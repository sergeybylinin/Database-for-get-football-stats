# Футбольная база данных

## Цель проекта
Целью проекта было создание базы данных для хранения и анализа футбольной статистики. База данных включает информацию о клубах, игроках, матчах, чемпионатах и событиях в матчах. Основная задача — обеспечить удобный доступ к данным для анализа результатов матчей, статистики игроков и клубов.

## Что было сделано
1. **Создание структуры базы данных**:
   - Было создано 10 таблиц, включая таблицы для клубов, игроков, стран, позиций, амплуа, чемпионатов, матчей и событий в матчах.
   - Для каждой таблицы были определены первичные ключи, индексы и внешние ключи для обеспечения целостности данных.

2. **Заполнение базы данных**:
   - Таблицы были заполнены тестовыми данными, включая информацию о клубах, игроках, странах, позициях и амплуа.
   - Для заполнения данных использовались как ручные вставки, так и генерация случайных данных.

3. **Создание ER-диаграммы**:
   - Была разработана ER-диаграмма, отражающая связи между таблицами и структуру базы данных.

4. **Написание SQL-запросов**:
   - Были написаны запросы для выборки данных, включая группировки, JOIN'ы и вложенные запросы.
   - Примеры запросов:
     - Выборка результатов матчей в конкретном туре.
     - Статистика игроков по количеству забитых голов и красных карточек.
     - Турнирная таблица чемпионата.

5. **Создание представлений (VIEW)**:
   - Были созданы два представления:
     - Подробная таблица English Premier League с статистикой клубов.
     - Турнирная таблица English Premier League с сортировкой по очкам.

6. **Создание хранимых процедур и триггеров**:
   - Были добавлены триггеры для автоматического обновления данных, например, при добавлении нового игрока или матча.
   - Хранимые процедуры были созданы для упрощения часто выполняемых операций, таких как подсчет очков клубов в чемпионате.

## Трудности и решения
1. **Проблема с целостностью данных**:
   - Проблема: При удалении записи из одной таблицы (например, клуба) могли оставаться "висячие" ссылки в других таблицах (например, в таблице игроков).
   - Решение: Были добавлены внешние ключи с каскадным удалением (ON DELETE CASCADE), чтобы автоматически удалять связанные записи.

2. **Генерация тестовых данных**:
   - Проблема: Для заполнения базы данных требовалось большое количество тестовых данных.
   - Решение: Были использованы инструменты для генерации случайных данных, такие как `FLOOR(RAND())` для числовых значений и ручное заполнение для категориальных данных.

3. **Оптимизация запросов**:
   - Проблема: Некоторые запросы, особенно с вложенными подзапросами, выполнялись медленно.
   - Решение: Были добавлены индексы на часто используемые столбцы, а также переписаны некоторые запросы для повышения производительности.

## Итоги
Проект успешно завершен. База данных позволяет эффективно хранить и анализировать футбольную статистику. Были созданы удобные инструменты для работы с данными, такие как представления и хранимые процедуры. База данных готова к использованию в реальных условиях для анализа матчей, игроков и клубов.

### Основные технологии:
- **SQL**: Для создания и управления базой данных.
- **MySQL**: В качестве СУБД.
- **ER-диаграммы**: Для визуализации структуры базы данных.
- **Генерация данных**: Для заполнения базы тестовыми данными.
